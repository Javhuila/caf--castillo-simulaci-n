<!doctype html>
<html lang="en">

  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- CSS -->
    <link rel="stylesheet" href="./../../public/css/index.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
      integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.24/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/fixedheader/3.1.8/css/fixedHeader.dataTables.min.css">

    <style>
      /*estilos para la tabla*/
      table th {
        background-color: #FF416C;
        color: white;
      }

      .fondo {
        background: white;
      }

      .fondo-color {
        background: rgb(223 172 163);
      }
    </style>


  <body class="fondo-color">

    {{#if msncreate}}
    <div class="container p-4">
      <div class="row">
        <div class="col-md-4 mx-auto">
          <div class="alert alert-success alert-dismissible fade show" role="alert">
            {{msncreate}}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close">
            </button>
          </div>
        </div>
      </div>
    </div>
    {{/if}}

    {{{body}}}

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
      crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js"
      integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi"
      crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js"
      integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG"
      crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
      integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
      crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.js"
      integrity="sha512-n/4gHW3atM3QqRcbCn6ewmpxcLAHGaDjpEBu4xZd47N0W2oQ+6q7oc3PXstrJYXcbNU1OHdQ1T7pAP+gi5Yu8g=="
      crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/fixedheader/3.1.8/js/dataTables.fixedHeader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.3.0/chart.min.js"
      integrity="sha512-yadYcDSJyQExcKhjKSQOkBKy2BLDoW6WnnGXCAkCoRlpHGpYuVuBqGObf3g/TdB86sSbss1AOP4YlGSb6EKQPg=="
      crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.3.0/chart.js"
      integrity="sha512-jRQOiy89ZX0kVR/VpJd8PP4hPofcuYlfPU9MhPzHFIB19QAzCO7myRcO0Dgycu4iANZdnmXZ5sa/dL60y7BZgw=="
      crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.3.0/chart.esm.js"
      integrity="sha512-9EvJc4hnoFfX+ZDIHZuXNoVXpcw+VlOtw9YqUEDXiAT98L89mNCR2CkZLW9jU7tiHxSf6Q2ocI2yAEL5bsaiUg=="
      crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.3.0/chart.esm.min.js"
      integrity="sha512-3Pt7j8vNFA4WeyikrZgqBASavGPXWeoQ3Zgm684YIvXd+WyzwO4p+aMCMvETzd4sSJtwSM4OOsmP1n+lwm9xOA=="
      crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.3.0/helpers.esm.js"
      integrity="sha512-O+kSVetiC3BNzWDMNhKVfsrDJQWDr0U88/pxcz/Py/quIPVxIPCGG/xDRY+EMPhB4FwOHrAOOIvua0LiOlCq2w=="
      crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.3.0/helpers.esm.min.js"
      integrity="sha512-4OeC7P+qUXB7Kpyeu1r5Y209JLXfCkwGKDpk8vnXzeNGMnpTr6hzOz2lMm7h0oxRBVu2ZCPRkCBPMmIlWsbaHg=="
      crossorigin="anonymous" referrerpolicy="no-referrer"></script>


    <script>
      $(document).ready(function () {
        var table = $('#gastable').DataTable({
          orderCellsTop: true,
          fixedHeader: true
        });

        //Creamos una fila en el head de la tabla y lo clonamos para cada columna
        $('#gastable thead tr').clone(true).appendTo('#gastable thead');

        $('#gastable thead tr:eq(1) th').each(function (i) {
          var title = $(this).text(); //Es el nombre de la columna
          $(this).html('<input type="text" placeholder="Buscar ' + title + '" />');

          $('input', this).on('keyup change', function () {
            if (table.column(i).search() !== this.value) {
              table
                .column(i)
                .search(this.value)
                .draw();
            }
          });
        });
      });
    </script>
    {{!-- <script>
      var variaauno = document.getElementById("grafigas");

      var barChart = new Chart(variaauno, {
        type: 'bar',
        data: {
          labels: [],
          datasets: [{
            label: 'Cantidad de Pedidos (Pacas)',
            backgroundColor: [
              'rgba(255, 99, 132, 0.5)',
              'rgba(255, 159, 64, 8.2)',
              'rgba(255, 205, 86, 8.2)',
              'rgba(75, 192, 192, 8.2)',
              'rgba(54, 162, 235, 8.2)'
            ],
            borderColor: [
              'rgb(255, 99, 132)',
              'rgb(255, 159, 64)',
              'rgb(255, 205, 86)',
              'rgb(75, 192, 192)',
              'rgb(54, 162, 235)'
            ],
            borderWidth: 7
          }],
        },
        options: {
          scales: {
            y: {
              beginAtZero: true
            }
          }
        }
      });

      let url = 'http://localhost:4000/liqgaseosa/api/listgaseosa'
      fetch(url)
        .then(response => response.json())
        .then(datos => mostrar(datos))
        .catch(error => console.log(error))

      const mostrar = (gasinfo) => {
        gasinfo.forEach(element => {
          barChart.data['labels'].push(element.sabor_gaseosa)
          barChart.data['datasets'][0].data.push(element.cantidad_gaseosa)
        });
      } 
    </script> --}}
    <script>
      $(document).ready(function () {
        var table = $('#castillotable').DataTable({
          orderCellsTop: true,
          fixedHeader: true
        });

        //Creamos una fila en el head de la tabla y lo clonamos para cada columna
        $('#castillotable thead tr').clone(true).appendTo('#castillotable thead');

        $('#castillotable thead tr:eq(1) th').each(function (i) {
          var title = $(this).text(); //Es el nombre de la columna
          $(this).html('<input type="text" placeholder="Buscar ' + title + '" />');

          $('input', this).on('keyup change', function () {
            if (table.column(i).search() !== this.value) {
              table
                .column(i)
                .search(this.value)
                .draw();
            }
          });
        });
      });
    </script>
    <script>
      var variadoscastillo = document.getElementById("graficastillodos");

      var donaChart = new Chart(variadoscastillo, {
        type: 'doughnut',
        data: {
          labels: ["Ninguno", "Factor Climatico", "Plaga"],
          datasets: [{
            label: "Factores negativos",
            data: ["50", "40", "10"],
            backgroundColor: [
              'rgb(255, 99, 132)',
              'rgb(54, 162, 235)',
              'rgb(255, 205, 86)'
            ],
            hoverOffset: 4
          }]

        },
        options: {
          borderWidth: 5,
          borderRadius: 2,          
          plugins: {
            legend: {
              display: false,
            }
          }
        }
      });
    </script>
    <script>
      var variaaunocastillo = document.getElementById("graficastillo");

      var barChart = new Chart(variaaunocastillo, {
        type: 'bar',
        data: {
          labels: [],
          datasets: [{
            label: 'Cantidad de CafÃ©',
            backgroundColor: [
              'rgba(255, 99, 132, 0.5)',
              'rgba(255, 159, 64, 8.2)',
              'rgba(255, 205, 86, 8.2)',
              'rgba(75, 192, 192, 8.2)',
              'rgba(54, 162, 235, 8.2)',
              'rgba(255, 99, 132, 0.5)',
              'rgba(255, 159, 64, 8.2)',
              'rgba(255, 205, 86, 8.2)',
              'rgba(75, 192, 192, 8.2)',
              'rgba(54, 162, 235, 8.2)',
              'rgba(255, 99, 132, 0.5)',
              'rgba(255, 159, 64, 8.2)',
            ],
            borderColor: [
              'rgb(255, 99, 132)',
              'rgb(255, 159, 64)',
              'rgb(255, 159, 64)',
              'rgb(255, 205, 86)',
              'rgb(75, 192, 192)',
              'rgb(255, 99, 132)',
              'rgb(255, 159, 64)',
              'rgb(255, 159, 64)',
              'rgb(255, 205, 86)',
              'rgb(75, 192, 192)',
              'rgb(255, 99, 132)',
              'rgb(255, 159, 64)',
            ],
            borderWidth: 7
          }],
        },
        options: {
          scales: {
            y: {
              beginAtZero: true
            }
          }
        }
      });

      let url = 'http://localhost:4000/cafecastillo/api/listcastillo'
      fetch(url)
        .then(response => response.json())
        .then(datos => mostrar(datos))
        .catch(error => console.log(error))

      const mostrar = (castilloinfo) => {
        castilloinfo.forEach(element => {
          barChart.data['labels'].push(element.mes)
          barChart.data['datasets'][0].data.push(element.cantidad)
        });
      } 
    </script>
  </body>

</html>

{{!-- ////www.youtube.com/watch?v=jpzKCx9Lu1Q  --}}